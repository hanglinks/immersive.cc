/**
 * Featherlight - ultra slim jQuery lightbox
 * Version 0.3.1 - http://noelboss.github.io/featherlight/
 *
 * Copyright 2014, NoÃ«l Raoul Bossart (http://www.noelboss.com)
 * MIT Licensed.
**/
!function(a){"use strict";if("undefined"!==a){var b={id:0,defaults:{autostart:!0,namespace:"featherlight",selector:"[data-featherlight]",context:"body",type:{image:!1,ajax:!1},targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",openSpeed:250,closeSpeed:250,closeOnBg:!0,closeOnEsc:!0,closeIcon:"&#10005;",beforeOpen:null,beforeClose:null,afterOpen:null,afterClose:null,open:function(b){var c=!0;"function"==typeof a.featherlight.defaults.beforeOpen&&(c=a.proxy(a.featherlight.defaults.beforeOpen,this,b)()),c!==!1&&(c=a.proxy(a.featherlight.methods.open,this,b)()),c!==!1&&"function"==typeof a.featherlight.defaults.afterOpen&&a.proxy(a.featherlight.defaults.afterOpen,this,b)()},close:function(b){var c=!0;"function"==typeof a.featherlight.defaults.beforeClose&&(c=a.proxy(a.featherlight.defaults.beforeClose,this,b)()),c!==!1&&(c=a.proxy(a.featherlight.methods.close,this,b)()),c!==!1&&"function"==typeof a.featherlight.defaults.afterClose&&a.proxy(a.featherlight.defaults.afterClose,this,b)()}},methods:{setup:function(c,d){c=a.extend({},b.defaults,c);var e=a(this)||a(),f=e.attr("data-"+c.namespace+"-variant")||c.variant,g=c.resetCss?c.namespace+"-reset":c.namespace,h=a(c.background||'<div class="'+g+'"><div class="'+g+'-content"><span class="'+g+'-close">'+c.closeIcon+"</span></div></div>"),i={id:b.id++,config:c,content:d,$elm:e,$instance:h.clone().addClass(f)};i.$instance.on(c.closeTrigger+"."+c.namespace,a.proxy(c.close,i)),i.config.closeOnEsc&&a(document).bind("keyup."+i.config.namespace+i.id,function(a){27===a.keyCode&&i.$instance.find("."+i.config.namespace+"-close").click()}),e.length>0&&this.tagName?e.on(c.openTrigger+"."+c.namespace,a.proxy(c.open,i)):a.proxy(c.open,i)()},getContent:function(){var b=this,c=!0,d=b.content,e=null,f=b.$elm.attr(b.config.targetAttr)||"",g="";return b.$content instanceof a==!1&&"string"==typeof d?e=a(d):d instanceof a==!1&&(b.config.type.image===!0||"image"===f||f.match(/\.(png|jpg|jpeg|gif|tiff|bmp)$/i)?(g=f.match(/\.(png|jpg|jpeg|gif|tiff|bmp)$/i)?f:b.$elm.attr("href"),e=a('<img src="'+g+'" alt="" class="'+b.config.namespace+'-image" />')):b.config.type.ajax===!0||"ajax"===f||f.match(/(http|htm|php)/i)?(g=f.match(/(http|htm|php)/i)?f:b.$elm.attr("href"),d=g?a("<div></div>").load(g,function(c,e){"error"!==e&&a.featherlight(d.html(),b.config)}):null,c=!1):f?e=a(a(f),b.config.context):c=!1),c&&e instanceof a&&((e.is("iframe")||a("iframe",e).length>0)&&b.$instance.addClass(b.config.namespace+"-iframe"),e.addClass(b.config.namespace+"-inner"),b.$content=e.clone(),b.$instance.find("."+b.config.namespace+"-inner").remove(),b.$instance.find("."+b.config.namespace+"-content").append(b.$content)),c},open:function(c){c&&c.preventDefault();var d=this;return a.proxy(b.methods.getContent,d)()===!1?!1:(d.$instance.prependTo("body").fadeIn(d.config.openSpeed),void 0)},close:function(b){var c=this,d=c.config,e=a(b.target);(d.closeOnBg&&e.is("."+d.namespace)||e.is("."+d.namespace+"-close"))&&(b&&b.preventDefault(),c.config.closeOnEsc&&a(document).unbind("keyup."+c.config.namespace+c.id),c.$instance.fadeOut(c.config.closeSpeed,function(){c.$instance.detach()}))}}};a.featherlight=function(c,d){"string"!=typeof c&&c instanceof a==!1?(d="Object"==typeof c?a.extend({},b.defaults,c):b.defaults,a(d.selector,d.context).featherlight()):a.proxy(b.methods.setup,null,d,c)()},a.fn.featherlight=function(c,d){a(this).each(function(){a.proxy(b.methods.setup,this,c,d)()})},a.extend(a.featherlight,b),a(document).ready(function(){var b=a.featherlight.defaults;b.autostart&&a(b.selector,b.context).featherlight()})}}("function"==typeof jQuery?jQuery:alert("Too much lightness, Featherlight needs jQuery."));